<!-- Insights & Thought Leadership Section -->
<section id="insights" class="section insights-section">
    <div class="container">
        <h2 class="section-title">Insights & Thought Leadership</h2>
        <p class="section-subtitle">Professional insights, industry perspectives, and thought leadership from my journey in technology</p>
        
        <!-- Insights Grid -->
        <div class="insights-grid">
            <!-- LinkedIn Activity -->
            <div class="insight-card linkedin-insight">
                <div class="insight-header">
                    <div class="insight-type">
                        <i class="fa fa-linkedin" aria-hidden="true"></i>
                        <span>LinkedIn Activity</span>
                    </div>
                    <a href="https://www.linkedin.com/in/prashanthvarma/" target="_blank" rel="noopener noreferrer" class="profile-link" aria-label="Visit LinkedIn profile">
                        <i class="fa fa-external-link" aria-hidden="true"></i>
                    </a>
                </div>
                
                <!-- LinkedIn Post Embed -->
                <div class="insight-content">
                    <div class="linkedin-embed-container">
                        <!-- Primary LinkedIn Embed -->
                        <iframe 
                            id="linkedin-embed"
                            src="https://www.linkedin.com/embed/feed/update/urn:li:share:7364335388775075844" 
                            height="350" 
                            width="100%" 
                            frameborder="0" 
                            allowfullscreen="" 
                            title="Embedded LinkedIn post"
                            style="border: 1px solid #e0e0e0; border-radius: 8px; max-width: 100%;"
                            onload="checkLinkedInEmbed()"
                            onerror="showLinkedInFallback()">
                        </iframe>
                        
                        <!-- Fallback Content -->
                        <div id="linkedin-fallback" class="linkedin-fallback" style="display: none;">
                            <div class="fallback-content">
                                <i class="fa fa-linkedin" style="font-size: 2.5rem; color: #0077b5; margin-bottom: 1rem;"></i>
                                <h4>LinkedIn Post</h4>
                                <p>Recent professional insights and industry perspectives</p>
                                <div class="fallback-actions">
                                    <a href="https://www.linkedin.com/feed/update/urn:li:share:7364335388775075844/" target="_blank" class="fallback-link">
                                        <i class="fa fa-external-link"></i>
                                        View on LinkedIn
                                    </a>
                                    <a href="https://www.linkedin.com/in/prashanthvarma/" target="_blank" class="fallback-link">
                                        <i class="fa fa-user"></i>
                                        Visit Profile
                                    </a>
                                </div>
                            </div>
                        </div>
                        
                        <p style="margin-top: 10px; color: #666; font-size: 14px;">
                            <a href="https://www.linkedin.com/feed/update/urn:li:share:7364335388775075844/" target="_blank">View original post on LinkedIn</a>
                        </p>
                    </div>
                </div>
            </div>
            
            <!-- Blog Posts -->
            <div class="insight-card blog-insight">
                <div class="insight-header">
                    <div class="insight-type">
                        <i class="fa fa-pencil" aria-hidden="true"></i>
                        <span>Blog Posts</span>
                    </div>
                    <span class="post-count">Long-form insights</span>
                </div>
                
                <div class="insight-content">
                    <div class="blog-posts-container">
                        {% for post in site.posts reversed %}
                            {% if post.category contains 'Posts'%}
                            <div class="blog-post-item">
                                <div class="post-header">
                                    <h4 class="post-title">{{ post.title }}</h4>
                                    {% if post.img %}
                                    <div class="post-image">
                                        <img src="img/posts/{{ post.img }}" alt="{{ post.title }}" style="width: 100%; border-radius: 8px; box-shadow: var(--shadow-sm);">
                                    </div>
                                    {% endif %}
                                </div>
                                <div class="post-excerpt">
                                    {{ post.content | truncate: 200 }}
                                </div>
                                <div class="post-actions">
                                    <a href="#" class="read-more-link">Read More</a>
                                </div>
                            </div>
                            {% endif %}
                        {% endfor %}
                        
                        {% if site.posts.size == 0 %}
                        <div class="empty-state">
                            <i class="fa fa-pencil" style="font-size: 3rem; color: var(--text-light); margin-bottom: 1rem;"></i>
                            <h4 style="color: var(--text-secondary);">No blog posts yet</h4>
                            <p style="color: var(--text-light);">Check back soon for updates and insights!</p>
                        </div>
                        {% endif %}
                    </div>
                </div>
            </div>
        </div>
        
        <!-- LinkedIn Embed Script -->
        <script>
        function checkLinkedInEmbed() {
            const iframe = document.getElementById('linkedin-embed');
            const fallback = document.getElementById('linkedin-fallback');
            
            // Check if iframe loaded successfully
            setTimeout(() => {
                try {
                    if (iframe.contentWindow && iframe.contentWindow.location.href) {
                        // Iframe loaded successfully
                        iframe.style.display = 'block';
                        fallback.style.display = 'none';
                    } else {
                        // Show fallback
                        showLinkedInFallback();
                    }
                } catch (e) {
                    // Cross-origin error or other issue
                    showLinkedInFallback();
                }
            }, 3000);
        }
        
        function showLinkedInFallback() {
            const iframe = document.getElementById('linkedin-embed');
            const fallback = document.getElementById('linkedin-fallback');
            
            iframe.style.display = 'none';
            fallback.style.display = 'block';
        }
        
        // Check on page load
        document.addEventListener('DOMContentLoaded', function() {
            setTimeout(checkLinkedInEmbed, 2000);
        });
        </script>
    </div>
</section>
